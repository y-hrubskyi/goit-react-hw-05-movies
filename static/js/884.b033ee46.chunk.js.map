{"version":3,"file":"static/js/884.b033ee46.chunk.js","mappings":"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","sources":["hooks/useDataApi.jsx","pages/MovieDetails.jsx"],"sourcesContent":["import { useEffect, useReducer, useState } from 'react';\nimport axios from 'axios';\n\nconst API_KEY = '345007f9ab440e5b86cef51be6397df1';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_INIT':\n      return { isLoading: true, isError: false };\n    case 'FETCH_SUCCESS':\n      return {\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case 'FETCH_FAILURE':\n      return { isLoading: false, isError: true };\n    default:\n      return state;\n  }\n};\n\nexport const useDataApi = (initialUrl, initialData) => {\n  const [url, setUrl] = useState(initialUrl);\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: initialData,\n  });\n\n  useEffect(() => {\n    if (!url) return;\n\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_INIT' });\n\n      try {\n        const result = await axios(url);\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (error) {\n        dispatch({ type: 'FETCH_FAILURE' });\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return [state, setUrl];\n};\n","import { Suspense, useRef } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\n\nimport { useDataApi } from 'hooks/useDataApi';\nimport { Loader } from 'components/Loader/Loader';\nimport { Link, NavItem, NavList } from 'components/Layout/Layout.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [{ data, isLoading, isError }] = useDataApi(`/movie/${movieId}`, {});\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  return (\n    <div>\n      <Link to={backLinkRef.current}>⬅️ Go Back</Link>\n      <h1>MovieDetails</h1>\n      {isError && <div>Something went wrong...</div>}\n      {isLoading && <Loader />}\n      {data && (\n        <>\n          <li>\n            <img\n              src={`https://image.tmdb.org/t/p/w200${data.poster_path}`}\n              alt=\"\"\n            />\n            <h2>{data.title || data.name}</h2>\n            <p>\n              {data.release_date ||\n                data.first_air_date ||\n                data.known_for_department}\n            </p>\n            <p>\n              {data.overview ||\n                data?.known_for?.map(mov => mov.title).join(' ')}\n            </p>\n          </li>\n          <div>\n            <h3>Additional information</h3>\n            <NavList>\n              <NavItem>\n                <Link to=\"cast\">Cast</Link>\n              </NavItem>\n              <NavItem>\n                <Link to=\"reviews\">Reviews</Link>\n              </NavItem>\n            </NavList>\n          </div>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["axios","api_key","dataFetchReducer","state","action","type","isLoading","isError","data","payload","useDataApi","initialUrl","initialData","_useState","useState","_useState2","_slicedToArray","url","setUrl","_useReducer","useReducer","_useReducer2","dispatch","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","result","_context","prev","next","sent","t0","stop","apply","arguments","_location$state$from","_location$state","_data$known_for","movieId","useParams","_useDataApi","concat","_useDataApi2$","location","useLocation","backLinkRef","useRef","from","_jsxs","children","_jsx","Link","to","current","Loader","_Fragment","src","poster_path","alt","title","name","release_date","first_air_date","known_for_department","overview","known_for","map","mov","join","NavList","NavItem","Suspense","fallback","Outlet"],"sourceRoot":""}