{"version":3,"file":"static/js/528.e1897147.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.styled.js","components/MoviesList/MoviesList.jsx","hooks/useDataApi.jsx","components/SearchBar/SearchBar.styled.js","components/SearchBar/SearchBar.jsx","pages/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const StyledMoviesList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const MovieItem = styled.li`\n  width: 250px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport { MovieItem, StyledMoviesList } from './MoviesList.styled';\n\nexport const MoviesList = ({ data, isLoading, isError }) => {\n  const location = useLocation();\n  const isEmpty = data?.results && !data.results.length;\n\n  return (\n    <>\n      {isError && <div>Something went wrong...</div>}\n      {isLoading && <Loader />}\n      {!isEmpty ? (\n        <StyledMoviesList>\n          {data?.results.map(({ id, name, title }) => (\n            <MovieItem key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {name || title}\n              </Link>\n            </MovieItem>\n          ))}\n        </StyledMoviesList>\n      ) : (\n        'No results'\n      )}\n    </>\n  );\n};\n","import { useEffect, useReducer, useState } from 'react';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '345007f9ab440e5b86cef51be6397df1',\n};\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_INIT':\n      return { isLoading: true, isError: false };\n    case 'FETCH_SUCCESS':\n      return {\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case 'FETCH_FAILURE':\n      return { isLoading: false, isError: true };\n    default:\n      return state;\n  }\n};\n\nexport const useDataApi = initialUrl => {\n  const [url, setUrl] = useState(initialUrl);\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: null,\n  });\n\n  useEffect(() => {\n    if (!url) return;\n\n    const fetchData = async () => {\n      dispatch({ type: 'FETCH_INIT' });\n\n      try {\n        const result = await axios(url);\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n      } catch (error) {\n        dispatch({ type: 'FETCH_FAILURE' });\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return [state, setUrl];\n};\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  gap: 8px;\n  padding: 20px 0;\n`;\n","import { Form } from './SearchBar.styled';\n\nexport const SearchBar = ({ query, onChange, onSubmit }) => {\n  return (\n    <Form onSubmit={onSubmit}>\n      <input type=\"text\" value={query} onChange={onChange} />\n      <button type=\"submit\">Search</button>\n    </Form>\n  );\n};\n","import { useSearchParams } from 'react-router-dom';\n\nimport { useDataApi } from 'hooks/useDataApi';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { PageTitle } from 'components/Layout/Layout.styled';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const [{ data, isLoading, isError }, doFetch] = useDataApi(\n    query ? `/search/movie?query=${query}` : ''\n  );\n\n  const handleChange = e => {\n    const query = e.target.value;\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!query) {\n      alert(\"Please, enter movie's name!\");\n      return;\n    }\n\n    doFetch(`/search/movie?query=${query}`);\n  };\n\n  return (\n    <div>\n      <PageTitle>Search</PageTitle>\n      <SearchBar\n        query={query}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n      <MoviesList data={data} isLoading={isLoading} isError={isError} />\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["StyledMoviesList","styled","_templateObject","_taggedTemplateLiteral","MovieItem","_templateObject2","MoviesList","_ref","data","isLoading","isError","location","useLocation","isEmpty","results","length","_jsxs","_Fragment","children","_jsx","Loader","map","_ref2","id","name","title","Link","to","concat","state","from","axios","api_key","dataFetchReducer","action","type","payload","useDataApi","initialUrl","_useState","useState","_useState2","_slicedToArray","url","setUrl","_useReducer","useReducer","_useReducer2","dispatch","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","result","_context","prev","next","sent","t0","stop","apply","arguments","Form","SearchBar","query","onChange","onSubmit","value","_searchParams$get","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","_useDataApi","_useDataApi2","_useDataApi2$","doFetch","PageTitle","e","target","preventDefault","alert"],"sourceRoot":""}